#!/data/data/com.termux/files/usr/bin/bash
function Coloring {
NC='\033[0m'
LRED='\033[1;31m'
LGREEN='\033[1;32m'
YELLOW='\033[1;33m'
PURPLE='\033[1;35m'
LBLUE='\033[1;36m'
}

# BANNER
banner() {
toilet "$(figlet "INDIAN TOOL")" -f term --gay  | pv -qL 3000
toilet "  ð—§ð—˜ð—Ÿð—˜ð—šð—¥ð—”ð—  ð—–ð—›ð—”ð—¡ð—¡ð—˜ð—Ÿ ð—œð—¡ð——ð—œð—”ð—¡ ð—§ð—¢ð—¢ð—Ÿ  " -f term -F border --gay  | pv -qL 3000
toilet -f term -F gay "   PAK-OBB TOOL FREE " | pv -qL 2999
toilet -f term -F gay "   COPYRIGHT BY @INDIAN_TOOL " | pv -qL 2999
toilet -f term -F gay "   TG ADMIN: https://t.me/indian_tool " | pv -qL 2999
}

function identy {
    printf "\n"
    echo -e "${LRED}   ð—–ð—›ð—˜ð—–ð—žð—œð—¡ð—š ð—¨ð—¦ð—˜ð—¥ ${NC}"

    # Check for network connection
    if wget -q --spider http://google.com
    then
        prompt="   ð—˜ð—¡ð—§ð—˜ð—¥ ð—£ð—”ð—¦ð—¦ð—ªð—¢ð—¥ð——:"
        password=""

        while IFS= read -p "$prompt" -r -s -n 1 char
        do
            if [[ $char == $'\0' ]]; then
                break
            fi
            if [[ $char == $'\177' ]]; then
                # Handle backspace key
                if [[ -n "$password" ]]; then
                    password="${password%?}"
                    prompt=$'\b \b'
                fi
            else
                prompt='*'
                password+="$char"
            fi
        done
        echo " "

        # Check if the password matches "INDIANTOOL"
        if [[ "$password" == "INDIANTOOL" ]]
        then
            echo -e "${LGREEN}   Access granted. ${NC}"
        else
            printf "\n"
            echo -e "${LRED}Incorrect password. Please try again."
            exit  # Exit immediately if the password is incorrect
        fi
    else
        printf "\n"
        echo -e "${LRED}NO CONNECTION ${NC}"
        exit
    fi
}

chmod +x script/*.bms

# ADD FOLER 
mkdir -p /sdcard/Download/OBB/{REPACK,UNPACK}

UNPACK="/sdcard/Download/INDIAN-TOOL/UNPACK"
OBB="/sdcard/Download/INDIAN-TOOL/OUTOBB"
REPACK="/sdcard/Download/INDIAN-TOOL/REPACK"

# FUNCTION UNAPACK OBB
unpackingpak () {
qemu-i386 $PREFIX/share/quickbms/quickbms_4gb_files script/INDIAN-TOOL.bms $UNPACK/$(basename "$selected_file") $OBB
}

# FUNCTION REPACK OBB
repackingpak () {
qemu-i386 $PREFIX/share/quickbms/quickbms_4gb_files -w -r script/INDIAN-TOOL.bms $selected_file /sdcard/Download/INDIAN-TOOL/REPACK
}


# FUNCTION START UNPACK
function unpackpak {
toilet -f term -F gay "ð—¬ð—¢ð—¨ ð—£ð—œð—–ð—žð—˜ð—— ð—¢ð—£ð—§ð—œð—¢ð—¡ ð—¨ð—¡ð—£ð—”ð—–ð—ž"
prompt="ð—¦ð—˜ð—Ÿð—˜ð—–ð—§ ð—¢ð—£ð—§ð—œð—¢ð—¡ : "
options=($(find /sdcard/Download/INDIAN-TOOL/UNPACK -name "*.pak" -o -name "*.obb"))
PS3="$prompt "
select opt in "${options[@]}" "Back" ; do
if (( REPLY == 1 + ${#options[@]} )) ; then
break
elif (( REPLY > 0 && REPLY <= ${#options[@]} )) ; then
selected_file="${options[$REPLY-1]}"
echo "You picked $selected_file which is file $REPLY"
mkdir -p "$UNPACK"
cp "$selected_file" "$UNPACK/"
unpackingpak
rm -rf $UNPACK
printf "
"
count=0
  total=3
  start=`date +%s`
  while [ $count -lt $total ]
  do
    sleep 1 # this is work
    cur=`date +%s`
    count=$(( $count + 1 ))
    pd=$(( $count * 73 / $total ))
    runtime=$(( $cur-$start ))
    estremain=$(( ($runtime * $total / $count)-$runtime ))
    printf "\r%d.%d%% complete - est %d:%0.2d remaining\e[K" $(( $count*100/$total )) $(( ($count*1000/$total)%10)) $(( $estremain/60 )) $(( $estremain%60 ))
  done
echo ""
printf "
"   
toilet -f term -F gay "ð—¨ð—¡ð—£ð—”ð—–ð—ž ð—£ð—”ð—ž ð——ð—¢ð—¡ð—˜ " | pv -qL 2999
printf "
"   
toilet -f term -F gay "ð—™ð—œð—Ÿð—˜ ð—œð—¦ ð—¦ð—”ð—©ð—˜ð—— ð—œð—¡ ð—›ð—¢ð— ð—˜/ð—œð—¡ð——ð—œð—”ð—¡-ð—§ð—¢ð—¢ð—Ÿ/ð—¢ð—¨ð—§ð—¢ð—•ð—• " | pv -qL 2999
printf "
"
toilet -f term -F gay "ð—˜ð—«ð—œð—§ ð—§ð—¢ð—¢ð—Ÿ....." | pv -qL 2999
printf "
"
exit
else
echo "ð—œð—»ð˜ƒð—®ð—¹ð—¶ð—± ð—¢ð—½ð˜ð—¶ð—¼ð—»"
fi
done
}

# FUNCTION START REPACK
function repackpak {
toilet -f term -F gay "ð—¬ð—¢ð—¨ ð—£ð—œð—–ð—žð—˜ð—— ð—¢ð—£ð—§ð—œð—¢ð—¡ ð—¥ð—˜ð—£ð—”ð—–ð—ž ðŸ­"
prompt="ð—¦ð—˜ð—Ÿð—˜ð—–ð—§ ð—¢ð—£ð—§ð—œð—¢ð—¡ : "
options=($(find /sdcard/Download/INDIAN-TOOL/UNPACK -name "*.pak" -o -name "*.obb"))
PS3="$prompt "
select opt in "${options[@]}" "Back" ; do
if (( REPLY == 1 + ${#options[@]} )) ; then
break
elif (( REPLY > 0 && REPLY <= ${#options[@]} )) ; then
selected_file="${options[$REPLY-1]}"
echo "You picked $selected_file which is file $REPLY"
repackingpak
printf "
"
 count=0
  total=3
  start=`date +%s`
  while [ $count -lt $total ]
  do
    sleep 1 # this is work
    cur=`date +%s`
    count=$(( $count + 1 ))
    pd=$(( $count * 73 / $total ))
    runtime=$(( $cur-$start ))
    estremain=$(( ($runtime * $total / $count)-$runtime ))
    printf "\r%d.%d%% complete - est %d:%0.2d remaining\e[K" $(( $count*100/$total )) $(( ($count*1000/$total)%10)) $(( $estremain/60 )) $(( $estremain%60 ))
  done
echo ""
printf "
"
toilet -f term -F gay "ð—¥ð—˜ð—£ð—”ð—–ð—ž ð—£ð—”ð—ž ð——ð—¢ð—¡ð—˜ " | pv -qL 2999
printf "
"   
toilet -f term -F gay "ð—™ð—œð—Ÿð—˜ ð—œð—¦ ð—¦ð—”ð—©ð—˜ð—— ð—œð—¡ ð——ð—¢ð—ªð—¡ð—Ÿð—¢ð—”ð——/ð—¢ð—•ð—•/ð—¨ð—¡ð—£ð—”ð—–ð—ž " | pv -qL 2999
printf "
"
toilet -f term -F gay "ð—˜ð—«ð—œð—§ ð—§ð—¢ð—¢ð—Ÿ....." | pv -qL 2999
printf "
"
exit
else
echo "ð—œð—»ð˜ƒð—®ð—¹ð—¶ð—± ð—¢ð—½ð˜ð—¶ð—¼ð—»"
fi
done
}

# MAIN MENU PAK MODE
function main {
toilet "  ð—§ð—¢ð—¢ð—Ÿ ð—¨ð—¡ð—£ð—”ð—–ð—ž ð—¢ð—•ð—• ð—£ð—¨ð—•ð—š ð—•ð—šð— ð—œ  " -f term -F border --gay  | pv -qL 3000
PS3='ð—¦ð—˜ð—Ÿð—˜ð—–ð—§ ð—¢ð—£ð—§ð—œð—¢ð—¡ : '
options=("$(echo -e "${PURPLE}ð—¨ð—¡ð—£ð—”ð—–ð—ž${NC}\n")" "$(echo -e "${LBLUE}ð—¥ð—˜ð—£ð—”ð—–ð—ž${NC}\n")" "$(echo -e "${YELLOW}ð—˜ð—«ð—œð—§${NC}\n")")
select opt in "${options[@]}"
do
 case $opt in
    "$(echo -e "${PURPLE}ð—¨ð—¡ð—£ð—”ð—–ð—ž${NC}\n")")
      unpackpak
     ;;
    "$(echo -e "${LBLUE}ð—¥ð—˜ð—£ð—”ð—–ð—ž${NC}\n")")
      repackpak
    ;;
    "$(echo -e "${YELLOW}ð—˜ð—«ð—œð—§${NC}\n")")
      break
    ;;
     *) echo "ð—œð—»ð˜ƒð—®ð—¹ð—¶ð—± ð—¢ð—½ð˜ð—¶ð—¼ð—» $REPLY";;
  esac
done
}

clear
Coloring
banner
identy
sleep 0.2
main
